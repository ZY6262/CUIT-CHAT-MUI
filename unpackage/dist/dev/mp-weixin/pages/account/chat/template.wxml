<view><cu-custom vue-id="25bf3a00-1" bgColor="bg-gradual-pink" isBack="{{true}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">{{friend.sendNickName}}</view></cu-custom><view class="cu-chat" style="margin-bottom:100rpx;" id="chatList"><block wx:for="{{chatRecordList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{chatRecordList.length>0}}"><block><view class="{{[myId==item.senderId?'cu-item self':'cu-item']}}"><block wx:if="{{myId!=item.senderId}}"><view class="cu-avatar radius" style="{{('background-image:url('+fastdfsUrl+friend.sendFaceImg+');')}}"></view></block><view class="main"><block wx:if="{{item.msgType=='text'}}"><view class="content bg-green shadow"><text>{{item.content}}</text></view></block><block wx:else><block wx:if="{{item.msgType=='image'}}"><image class="radius" id="{{item.content}}" src="{{fastdfsUrl+item.content}}" mode="widthFix" data-event-opts="{{[['tap',[['lookPic',['$event']]]]]}}" bindtap="__e"></image></block><block wx:else><block wx:if="{{item.msgType=='audio'}}"><view class="content shadow" id="{{item.content}}" data-event-opts="{{[['tap',[['playAudioRecord',['$event']]]]]}}" bindtap="__e"><text class="cuIcon-sound text-xxl padding-right-xl"></text>点击播放</view></block></block></block></view><block wx:if="{{myId==item.senderId}}"><view class="cu-avatar radius" style="{{('background-image:url('+fastdfsUrl+faceImg+');')}}"></view></block><block wx:if="{{!item.isFriend}}"><view class="date"><text class="cuIcon-roundclosefill text-red "></text>对方已解除与您的好友关系</view></block></view></block></block></block><block wx:if="{{chatRecordList.length==0}}"><view class="cu-info round">交流是勇敢的第一步</view></block></view><view class="cu-bar foot input" style="{{'bottom:'+(InputBottom+'px')+';'}}"><block wx:if="{{showAudio}}"><view data-event-opts="{{[['tap',[['toAudio',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-sound text-grey"></text></view></block><block wx:if="{{showText}}"><view data-event-opts="{{[['tap',[['toText',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-text text-grey"></text></view></block><block wx:if="{{showInput}}"><input class="solid-bottom" adjust-position="{{false}}" focus="{{false}}" maxlength="300" cursor-spacing="10" data-event-opts="{{[['focus',[['InputFocus',['$event']]]],['blur',[['InputBlur',['$event']]]],['input',[['__set_model',['','inputMsg','$event',[]]]]]]}}" value="{{inputMsg}}" bindfocus="__e" bindblur="__e" bindinput="__e"/></block><block wx:if="{{startAudio}}"><button data-event-opts="{{[['tap',[['toAudioing',['$event']]]]]}}" class="cu-btn lg bg-green text-center" bindtap="__e">点击开始录音</button></block><block wx:if="{{audioing}}"><button data-event-opts="{{[['tap',[['toEndAudio',['$event']]]]]}}" class="cu-btn lg bg-green text-center" bindtap="__e">录音中...点击发送录音</button></block><block wx:if="{{playAudio}}"><button data-event-opts="{{[['tap',[['playSound',['$event']]]]]}}" class="cu-btn lg bg-green text-center" bindtap="__e">点击播放录音</button></block><view data-event-opts="{{[['tap',[['uploadImg',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-pic text-grey"></text></view><button data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" class="cu-btn bg-green shadow" bindtap="__e">发送</button></view></view>